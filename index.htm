<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>テスト画面</title>
<script>

function postMessage(){
  if ('ReactNativeWebView' in window) {
    window.ReactNativeWebView.postMessage(
      JSON.stringify({ type: 'hoge', hoge: 'ほげ' }),
    )
    alert('ReactNativeのWebViewにメッセージを送信しました。');
  } else {
    alert('WebViewではありません。');
  }
}

function makeDynamicLink(){
  const txtPackage = document.getElementById('txtPackage').value;
  const txtDeepLink = document.getElementById('txtDeepLink').value;
  
  const a = document.createElement('a');
  a.href = 'https://kddi.page.link/?link=' + encodeURIComponent(txtDeepLink) + '&apn=' + txtDeepLink;
  a.innerText = a.href;
  const div = document.getElementById('divDynamicLink');
  div.appendChild(a);
}
  
</script>
</head>

<body>
<h1>ダミー画面</h1>
<p>パッケージ名：<input id="txtPackage" value="com.kddi.digitalwallet.dev1"></p>
<p>DeepLink：<input id="txtDeepLink" value="https://www.google.com/?dwPmtTransactionId=01GH8J40TE5PE4JNM9WJRANDSN"></p>
<p><button id="btnDynamicLink" onclick="makeDynamicLink()">DynamicLink作成する</button></p>
<div id="divDynamicLink"></div>
<p><button onclick="postMessage()">postMessageテスト</button></p>
<p><a href="https://kddi.page.link/payment">https://kddi.page.link/payment</a></p>
<p><a href="https://kddi.page.link/payment" target="_blank">https://kddi.page.link/payment（Open in new window）</a></p>
  <p/>
  <p><a href="https://www.baidu.com">百度</a></p>
  <p/>
  <p><a href="https://kddi.page.link/?link=https://www.google.com/?dwPmtTransactionId%3D01GH8J40TE5PE4JNM9WJRANDSN&apn=com.kddi.digitalwallet&afl=http://210.13.123.226:8008/eagle-server/help_pages/index.html/?id%3D6355e51d167f6e5d8fb63592%26type%3D3">
    https://kddi.page.link/?link=https://www.google.com/?dwPmtTransactionId%3D01GH8J40TE5PE4JNM9WJRANDSN&apn=com.kddi.digitalwallet&afl=http://210.13.123.226:8008/eagle-server/help_pages/index.html/?id%3D6355e51d167f6e5d8fb63592%26type%3D3
    </a></p>
  <p/>
  <p>Mock API用</p>
  <p><a href="https://www.notexist.org/">登録完了URL（存在しないURL）</a></p>
  <p/>
  <p><a href="https://kddi.page.link/payment?result=0">決済完了URL</a></p>
  <p/>
  <p><a href="https://kddi.page.link/payment?result=1">決済失敗URL</a></p>
  <p>開発API用</p>
  <p><a href="https://www.notexist.org/cardEditEnd">登録完了URL（存在しないURL）</a></p>
  <p/>
  <p><a href="https://www.google.com/paySuccess">決済完了URL</a></p>
  <p/>
  <p><a href="https://www.google.com/payFailure?dwErrCode=DW90001&dwMessage=%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E7%99%BA%E7%94%9F%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82%E6%94%AF%E6%89%95%E3%81%8C%E5%A4%B1%E6%95%97%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82&pspErrCode=MPL90001">決済失敗URL</a></p>
</body>
 
</html>
